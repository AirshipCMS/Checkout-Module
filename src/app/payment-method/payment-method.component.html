<div class="payment-method-container container">
  <div class="container-header">
    <h4>Payment Method</h4>
  </div>
  <div class="clearfix">
    <div class="left">
      <label for="card-element">Credit or Debit Card</label>
      <button *ngIf="defaultCard && !editDefualtCard" type="button" (click)="editDefualtCard = true">Change Card</button>
      <div [ngClass]="{'hidden':defaultCard && !editDefualtCard}">
        <div>
          <label *ngIf="defaultCard && accountCards" for="change_card_option_new">
            New Credit or Debit Card
            <input id="change_card_option_new" type="radio" [(ngModel)]="changeCardOption" value="new">
          </label>
          <div [ngClass]="{'hidden': changeCardOption === 'existing'}" id="card-element"></div>
          <div *ngIf="changeCardOption === 'new'">
            <button *ngIf="editDefualtCard" type="button" (click)="editDefualtCard = !editDefualtCard">Cancel</button>
            <button type="button" (click)="createToken()">Add Card</button>
          </div>
        </div>
        <div *ngIf="defaultCard && accountCards">
          <label for="change_card_option_existing">
            Existing Card
            <input id="change_card_option_existing" type="radio" [(ngModel)]="changeCardOption" value="existing">
          </label>
          <select *ngIf="changeCardOption === 'existing'" [(ngModel)]="cardOptions">
            <option selected="" disabled="">Select One</option>
            <option *ngFor="let card of accountCards" [ngValue]="card">{{ card?.brand }} ending *{{ card.last4 }}</option>
          </select>
          <div *ngIf="changeCardOption === 'existing'">
            <button type="button" (click)="editDefaultCard = !editDefaultCard">Cancel</button>
            <button type="button" (click)="setDefaultCard(cardOptions)">Set as Default</button>
          </div>
        </div>
      </div>
      <div *ngIf="defaultCard && !editDefualtCard">
        <div>
          <p>{{ defaultCard?.brand }} ending *{{ defaultCard?.last4 }}</p>
        </div>
      </div>
    </div>
     <div class="right">
      <p>See below for order total(s). Single-Payment Items are charged as a single order. Subscriptions are charged as separate orders.</p>
    </div>
  </div>
</div>